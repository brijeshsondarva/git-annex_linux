.TH git-annex-migrate 1
.SH NAME
git-annex-migrate \- switch data to different backend
.PP
.SH SYNOPSIS
git annex migrate \fB[path ...]\fP
.PP
.SH DESCRIPTION
Changes the specified annexed files to use the default key\-value backend
(or the one specified with \fB\-\-backend\fP). Only files whose content
is currently available are migrated.
.PP
Note that the content is also still available using the old key after
migration. Use \fBgit annex unused\fP to find and remove the old key.
.PP
Normally, nothing will be done to files already using the new backend.
However, if a backend changes the information it uses to construct a key,
this can also be used to migrate files to use the new key format.
.PP
When you have multiple repositories that each contain a copy of a file,
it's best to run migrate in all of them.
.PP
.SH OPTIONS
.IP "\fB\-\-backend\fP"
.IP
Specify the new key\-value backend to use for migrated data.
.IP
.IP "\fB\-\-force\fP"
Force migration of keys that are already using the new backend.
.IP
.IP "file matching options"
The git-annex\-matching\-options(1)
can be used to specify files to migrate.
.IP
.IP "Also the git-annex\-common\-options(1) can be used."
.IP "\fB\-\-remove\-size\fP"
Keys often include the size of their content, which is generally a useful
thing. In fact, this command defaults to adding missing size information
to keys. With this option, the size information is removed instead.
.IP
One use of this option is to convert URL keys that were added
by \fBgit-annex addurl \-\-fast\fP to ones that would have been added if
that command was run with the \fB\-\-relaxed\fP option. Eg:
.IP
 git-annex migrate \-\-remove\-size \-\-backend=URL somefile
.IP
.SH SEE ALSO
git-annex(1)
.PP
git-annex\-upgrade(1)
.PP
.SH AUTHOR
Joey Hess <id@joeyh.name>
.PP
.PP

